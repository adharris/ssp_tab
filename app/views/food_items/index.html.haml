= form_tag '', :method => :get do
  = label_tag :category
  = select_tag :category, options_for_select([""] +(FoodItemCategory.all.map &:name), params[:category])
  - if can? :manage, Program
    = label_tag :program
    = select_tag :program, options_for_select([["",""]] + (Program.all.collect { |p| [p.name, p.id]}), params[:program])
  = submit_tag 'Filter'

- if @food_items.total_pages > 1
  .paginator.append-bottom
    %span.wrapper
      = will_paginate @food_items

.tablewrapper
  %table
    %thead
      %tr
        %th Item Name
        %th Program
        %th Category
        %th Base Unit
        %th Taxed?
        %th
    %tbody
      - @food_items.each do |food_item|
        %tr
          %td= food_item
          %td= food_item.program unless food_item.program.nil?
          %td= food_item.food_item_category
          %td= food_item.base_unit
          %td= food_item.default_taxed ? "Yes" : "No"
          %td= link_to "view", food_item

- if @food_items.total_pages > 1
  .paginator.prepend-top
    %span.wrapper
      = will_paginate @food_items
